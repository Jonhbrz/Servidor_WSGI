[{"content":"En esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\n1. Ejecutar la aplicaci√≥n con par√°metros waitress-serve \\ --listen=0.0.0.0:8000 \\ --threads=8 \\ --asyncore-use-poll \\ main:app 2. Par√°metros recomendados Par√°metro Descripci√≥n --threads N√∫mero de threads por worker. 4‚Äì8 suele ser suficiente. --listen Direcci√≥n IP y puerto donde escuchar. --asyncore-use-poll Mayor compatibilidad en contenedores. 3. Uso desde Docker CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] Waitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\n4. Logs Para ver logs en un contenedor:\ndocker logs api1 Esto te permite verificar la actividad y detectar errores.\n","permalink":"//localhost:1313/configuracion/","summary":"\u003cp\u003eEn esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\u003c/p\u003e\n\u003ch2 id=\"1-ejecutar-la-aplicaci√≥n-con-par√°metros\"\u003e1. Ejecutar la aplicaci√≥n con par√°metros\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --threads\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e8\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --asyncore-use-poll \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"2-par√°metros-recomendados\"\u003e2. Par√°metros recomendados\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003ePar√°metro\u003c/th\u003e\n          \u003cth\u003eDescripci√≥n\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--threads\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eN√∫mero de threads por worker. 4‚Äì8 suele ser suficiente.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--listen\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eDirecci√≥n IP y puerto donde escuchar.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--asyncore-use-poll\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eMayor compatibilidad en contenedores.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id=\"3-uso-desde-docker\"\u003e3. Uso desde Docker\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-dockerfile\" data-lang=\"dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;waitress-serve\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--listen=0.0.0.0:8000\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;main:app\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eWaitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\u003c/p\u003e","title":"Configuraci√≥n de Waitress"},{"content":"En esta secci√≥n ver√°s el despliegue completo en producci√≥n utilizando:\nFlask + Waitress (backend WSGI) Dockerfile (para build de la API) Docker Compose (para levantar varias instancias) Nginx como reverse proxy y balanceador de carga M√∫ltiples contenedores ejecutando la misma API Hugo para documentar el proyecto Esta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\nüöÄ 1. Estructura del proyecto Tu proyecto est√° organizado as√≠:\nSERVIDOR-WAITRESS/\r‚îú‚îÄ api/\r‚îÇ ‚îú‚îÄ Dockerfile\r‚îÇ ‚îú‚îÄ main.py\r‚îÇ ‚îú‚îÄ pyproject.toml\r‚îÇ ‚îî‚îÄ uv.lock\r‚îú‚îÄ docs/ ‚Üê sitio Hugo para documentaci√≥n\r‚îú‚îÄ nginx/\r‚îÇ ‚îî‚îÄ nginx.conf\r‚îî‚îÄ docker-compose.yml ‚öôÔ∏è 2. Dockerfile de la API El Dockerfile se encarga de:\nInstalar dependencias Copiar el c√≥digo Lanzar Waitress en el puerto 8000 FROM python:3.12-slim ENV PYTHONDONTWRITEBYTECODE=1 ENV PYTHONUNBUFFERED=1 WORKDIR /app COPY pyproject.toml ./ RUN pip install --upgrade pip setuptools wheel \u0026amp;\u0026amp; pip install waitress \u0026amp;\u0026amp; pip install -e . COPY . . EXPOSE 8000 CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] üß± 3. docker-compose.yml con m√∫ltiples instancias Aqu√≠ levantas dos contenedores id√©nticos tictactoe1 y tictactoe2, ambos corriendo la API por Waitress.\nLuego Nginx se encarga del balanceo.\nversion: \u0026#34;3.8\u0026#34; services: tictactoe1: build: ./api container_name: tictactoe1 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; tictactoe2: build: ./api container_name: tictactoe2 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; nginx: image: nginx:latest container_name: nginx_tictactoe restart: always volumes: - ./nginx/nginx.conf:/etc/nginx/nginx.conf ports: - \u0026#34;9000:80\u0026#34; depends_on: - tictactoe1 - tictactoe2 networks: - tictactoe-net networks: tictactoe-net: driver: bridge üåê 4. Configuraci√≥n de Nginx (nginx.conf) Nginx act√∫a como:\nReverse Proxy Balanceador de carga Punto de entrada externo (puerto 9000) worker_processes 1; events { worker_connections 1024; } http { upstream tictactoe_upstream { ip_hash; server tictactoe1:8000; server tictactoe2:8000; } server { listen 80; location / { proxy_pass http://tictactoe_upstream; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } ip_hash asegura que cada cliente siempre vaya al mismo backend (ideal para sesiones persistentes).\nüî• 5. Levantar todo el sistema Desde la carpeta ra√≠z del proyecto:\ndocker-compose build docker-compose up -d Comprobar contenedores:\ndocker ps Todos deben aparecer como Up.\nüì° 6. Probar la API desde el navegador o curl Registrar un device:\ncurl -X POST http://localhost:9000/devices Ver dispositivos:\ncurl http://localhost:9000/devices Nginx distribuir√° las peticiones entre tictactoe1 y tictactoe2.\nüß™ 7. Confirmar balanceo de carga Ver logs:\ndocker logs tictactoe1 docker logs tictactoe2 Ambos deben recibir tr√°fico.\nüéØ 8. Resultado final Con esta arquitectura tienes:\nAPI escalable Servida con Waitress Balanceada por Nginx Reproducible con Docker Compose Dos (o m√°s) contenedores backend Documentaci√≥n en Hugo Un entorno profesional, limpio, replicable y apto para producci√≥n.\n¬°Despliegue completado! üöÄüî•\n","permalink":"//localhost:1313/despliegue/","summary":"\u003cp\u003eEn esta secci√≥n ver√°s el \u003cstrong\u003edespliegue completo en producci√≥n\u003c/strong\u003e utilizando:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask\u003c/strong\u003e + \u003cstrong\u003eWaitress\u003c/strong\u003e (backend WSGI)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDockerfile\u003c/strong\u003e (para build de la API)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker Compose\u003c/strong\u003e (para levantar varias instancias)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eM√∫ltiples contenedores\u003c/strong\u003e ejecutando la misma API\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar el proyecto\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEsta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"-1-estructura-del-proyecto\"\u003eüöÄ 1. Estructura del proyecto\u003c/h1\u003e\n\u003cp\u003eTu proyecto est√° organizado as√≠:\u003c/p\u003e","title":"Despliegue Final con Nginx y Waitress (M√∫ltiples Contenedores)"},{"content":"En esta secci√≥n aprender√°s a instalar Waitress, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\n1. Requisitos previos Aseg√∫rate de tener instalado:\nPython 3.10 o superior pip actualizado Un entorno virtual (opcional pero recomendado) 2. Crear el entorno virtual python -m venv venv source venv/bin/activate # Linux/macOS venv\\Scripts\\activate # Windows 3. Instalar Flask y Waitress pip install flask waitress 4. Archivo b√°sico de ejemplo from flask import Flask app = Flask(__name__) @app.get(\u0026#34;/\u0026#34;) def home(): return \u0026#34;Waitress funcionando correctamente.\u0026#34; 5. Ejecutar la app con Waitress waitress-serve --listen=0.0.0.0:8000 main:app Ahora el backend est√° listo para producci√≥n a trav√©s de Waitress.\n","permalink":"//localhost:1313/instalacion/","summary":"\u003cp\u003eEn esta secci√≥n aprender√°s a instalar \u003cstrong\u003eWaitress\u003c/strong\u003e, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\u003c/p\u003e\n\u003ch2 id=\"1-requisitos-previos\"\u003e1. Requisitos previos\u003c/h2\u003e\n\u003cp\u003eAseg√∫rate de tener instalado:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePython 3.10 o superior\u003c/li\u003e\n\u003cli\u003epip actualizado\u003c/li\u003e\n\u003cli\u003eUn entorno virtual (opcional pero recomendado)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-crear-el-entorno-virtual\"\u003e2. Crear el entorno virtual\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython -m venv venv\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource venv/bin/activate      \u003cspan style=\"color:#75715e\"\u003e# Linux/macOS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evenv\u003cspan style=\"color:#ae81ff\"\u003e\\S\u003c/span\u003ecripts\u003cspan style=\"color:#ae81ff\"\u003e\\a\u003c/span\u003ectivate         \u003cspan style=\"color:#75715e\"\u003e# Windows\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"3-instalar-flask-y-waitress\"\u003e3. Instalar Flask y Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epip install flask waitress\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"4-archivo-b√°sico-de-ejemplo\"\u003e4. Archivo b√°sico de ejemplo\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@app.get\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehome\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Waitress funcionando correctamente.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"5-ejecutar-la-app-con-waitress\"\u003e5. Ejecutar la app con Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAhora el backend est√° listo para producci√≥n a trav√©s de Waitress.\u003c/p\u003e","title":"Instalaci√≥n B√°sica de Waitress"},{"content":"Bienvenido a la documentaci√≥n del proyecto TicTacToe API, un sistema que combina:\nFlask + Waitress como servidor backend. Docker + Docker Compose para encapsular la aplicaci√≥n. Nginx como reverse proxy y balanceador de carga. Hugo para documentar todo el proceso. El objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\nAqu√≠ aprender√°s:\nC√≥mo instalar Waitress en un entorno Python. C√≥mo configurarlo para servir tu API Flask. C√≥mo crear una infraestructura con varios contenedores corriendo instancias id√©nticas. C√≥mo exponer todo esto a internet a trav√©s de Nginx con balanceo de carga. Al final tendr√°s una arquitectura estable, escalable y f√°cil de replicar.\n","permalink":"//localhost:1313/inicio/","summary":"\u003cp\u003eBienvenido a la documentaci√≥n del proyecto \u003cstrong\u003eTicTacToe API\u003c/strong\u003e, un sistema que combina:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask + Waitress\u003c/strong\u003e como servidor backend.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker + Docker Compose\u003c/strong\u003e para encapsular la aplicaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar todo el proceso.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEl objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\u003c/p\u003e\n\u003cp\u003eAqu√≠ aprender√°s:\u003c/p\u003e","title":"Introducci√≥n"},{"content":"En esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\n1. Ejecutar la aplicaci√≥n con par√°metros waitress-serve \\ --listen=0.0.0.0:8000 \\ --threads=8 \\ --asyncore-use-poll \\ main:app 2. Par√°metros recomendados Par√°metro Descripci√≥n --threads N√∫mero de threads por worker. 4‚Äì8 suele ser suficiente. --listen Direcci√≥n IP y puerto donde escuchar. --asyncore-use-poll Mayor compatibilidad en contenedores. 3. Uso desde Docker CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] Waitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\n4. Logs Para ver logs en un contenedor:\ndocker logs api1 Esto te permite verificar la actividad y detectar errores.\n","permalink":"//localhost:1313/configuracion/","summary":"\u003cp\u003eEn esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\u003c/p\u003e\n\u003ch2 id=\"1-ejecutar-la-aplicaci√≥n-con-par√°metros\"\u003e1. Ejecutar la aplicaci√≥n con par√°metros\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --threads\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e8\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --asyncore-use-poll \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"2-par√°metros-recomendados\"\u003e2. Par√°metros recomendados\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003ePar√°metro\u003c/th\u003e\n          \u003cth\u003eDescripci√≥n\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--threads\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eN√∫mero de threads por worker. 4‚Äì8 suele ser suficiente.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--listen\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eDirecci√≥n IP y puerto donde escuchar.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--asyncore-use-poll\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eMayor compatibilidad en contenedores.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id=\"3-uso-desde-docker\"\u003e3. Uso desde Docker\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-dockerfile\" data-lang=\"dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;waitress-serve\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--listen=0.0.0.0:8000\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;main:app\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eWaitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\u003c/p\u003e","title":"Configuraci√≥n de Waitress"},{"content":"En esta secci√≥n ver√°s el despliegue completo en producci√≥n utilizando:\nFlask + Waitress (backend WSGI) Dockerfile (para build de la API) Docker Compose (para levantar varias instancias) Nginx como reverse proxy y balanceador de carga M√∫ltiples contenedores ejecutando la misma API Hugo para documentar el proyecto Esta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\n1. Estructura del proyecto Tu proyecto est√° organizado as√≠:\nSERVIDOR-WAITRESS/\r‚îú‚îÄ api/\r‚îÇ ‚îú‚îÄ Dockerfile\r‚îÇ ‚îú‚îÄ main.py\r‚îÇ ‚îú‚îÄ pyproject.toml\r‚îÇ ‚îî‚îÄ uv.lock\r‚îú‚îÄ docs/ ‚Üê sitio Hugo para documentaci√≥n\r‚îú‚îÄ nginx/\r‚îÇ ‚îî‚îÄ nginx.conf\r‚îî‚îÄ docker-compose.yml ‚öôÔ∏è 2. Dockerfile de la API El Dockerfile se encarga de:\nInstalar dependencias Copiar el c√≥digo Lanzar Waitress en el puerto 8000 FROM python:3.12-slim ENV PYTHONDONTWRITEBYTECODE=1 ENV PYTHONUNBUFFERED=1 WORKDIR /app COPY pyproject.toml ./ RUN pip install --upgrade pip setuptools wheel \u0026amp;\u0026amp; pip install waitress \u0026amp;\u0026amp; pip install -e . COPY . . EXPOSE 8000 CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] üß± 3. docker-compose.yml con m√∫ltiples instancias Aqu√≠ levantas dos contenedores id√©nticos tictactoe1 y tictactoe2, ambos corriendo la API por Waitress.\nLuego Nginx se encarga del balanceo.\nversion: \u0026#34;3.8\u0026#34; services: tictactoe1: build: ./api container_name: tictactoe1 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; tictactoe2: build: ./api container_name: tictactoe2 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; nginx: image: nginx:latest container_name: nginx_tictactoe restart: always volumes: - ./nginx/nginx.conf:/etc/nginx/nginx.conf ports: - \u0026#34;9000:80\u0026#34; depends_on: - tictactoe1 - tictactoe2 networks: - tictactoe-net networks: tictactoe-net: driver: bridge üåê 4. Configuraci√≥n de Nginx (nginx.conf) Nginx act√∫a como:\nReverse Proxy Balanceador de carga Punto de entrada externo (puerto 9000) worker_processes 1; events { worker_connections 1024; } http { upstream tictactoe_upstream { ip_hash; server tictactoe1:8000; server tictactoe2:8000; } server { listen 80; location / { proxy_pass http://tictactoe_upstream; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } ip_hash asegura que cada cliente siempre vaya al mismo backend (ideal para sesiones persistentes).\nüî• 5. Levantar todo el sistema Desde la carpeta ra√≠z del proyecto:\ndocker-compose build docker-compose up -d Comprobar contenedores:\ndocker ps Todos deben aparecer como Up.\nüì° 6. Probar la API desde el navegador o curl Registrar un device:\ncurl -X POST http://localhost:9000/devices Ver dispositivos:\ncurl http://localhost:9000/devices Nginx distribuir√° las peticiones entre tictactoe1 y tictactoe2.\nüß™ 7. Confirmar balanceo de carga Ver logs:\ndocker logs tictactoe1 docker logs tictactoe2 Ambos deben recibir tr√°fico.\nüéØ 8. Resultado final Con esta arquitectura tienes:\nAPI escalable Servida con Waitress Balanceada por Nginx Reproducible con Docker Compose Dos (o m√°s) contenedores backend Documentaci√≥n en Hugo Un entorno profesional, limpio, replicable y apto para producci√≥n.\n¬°Despliegue completado! üöÄüî•\n","permalink":"//localhost:1313/despliegue/","summary":"\u003cp\u003eEn esta secci√≥n ver√°s el \u003cstrong\u003edespliegue completo en producci√≥n\u003c/strong\u003e utilizando:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask\u003c/strong\u003e + \u003cstrong\u003eWaitress\u003c/strong\u003e (backend WSGI)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDockerfile\u003c/strong\u003e (para build de la API)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker Compose\u003c/strong\u003e (para levantar varias instancias)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eM√∫ltiples contenedores\u003c/strong\u003e ejecutando la misma API\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar el proyecto\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEsta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"1-estructura-del-proyecto\"\u003e1. Estructura del proyecto\u003c/h1\u003e\n\u003cp\u003eTu proyecto est√° organizado as√≠:\u003c/p\u003e","title":"Despliegue Final con Nginx y Waitress (M√∫ltiples Contenedores)"},{"content":"En esta secci√≥n aprender√°s a instalar Waitress, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\n1. Requisitos previos Aseg√∫rate de tener instalado:\nPython 3.10 o superior pip actualizado Un entorno virtual (opcional pero recomendado) 2. Crear el entorno virtual python -m venv venv source venv/bin/activate # Linux/macOS venv\\Scripts\\activate # Windows 3. Instalar Flask y Waitress pip install flask waitress 4. Archivo b√°sico de ejemplo from flask import Flask app = Flask(__name__) @app.get(\u0026#34;/\u0026#34;) def home(): return \u0026#34;Waitress funcionando correctamente.\u0026#34; 5. Ejecutar la app con Waitress waitress-serve --listen=0.0.0.0:8000 main:app Ahora el backend est√° listo para producci√≥n a trav√©s de Waitress.\n","permalink":"//localhost:1313/instalacion/","summary":"\u003cp\u003eEn esta secci√≥n aprender√°s a instalar \u003cstrong\u003eWaitress\u003c/strong\u003e, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\u003c/p\u003e\n\u003ch2 id=\"1-requisitos-previos\"\u003e1. Requisitos previos\u003c/h2\u003e\n\u003cp\u003eAseg√∫rate de tener instalado:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePython 3.10 o superior\u003c/li\u003e\n\u003cli\u003epip actualizado\u003c/li\u003e\n\u003cli\u003eUn entorno virtual (opcional pero recomendado)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-crear-el-entorno-virtual\"\u003e2. Crear el entorno virtual\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython -m venv venv\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource venv/bin/activate      \u003cspan style=\"color:#75715e\"\u003e# Linux/macOS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evenv\u003cspan style=\"color:#ae81ff\"\u003e\\S\u003c/span\u003ecripts\u003cspan style=\"color:#ae81ff\"\u003e\\a\u003c/span\u003ectivate         \u003cspan style=\"color:#75715e\"\u003e# Windows\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"3-instalar-flask-y-waitress\"\u003e3. Instalar Flask y Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epip install flask waitress\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"4-archivo-b√°sico-de-ejemplo\"\u003e4. Archivo b√°sico de ejemplo\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@app.get\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehome\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Waitress funcionando correctamente.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"5-ejecutar-la-app-con-waitress\"\u003e5. Ejecutar la app con Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAhora el backend est√° listo para producci√≥n a trav√©s de Waitress.\u003c/p\u003e","title":"Instalaci√≥n B√°sica de Waitress"},{"content":"Bienvenido a la documentaci√≥n del proyecto TicTacToe API, un sistema que combina:\nFlask + Waitress como servidor backend. Docker + Docker Compose para encapsular la aplicaci√≥n. Nginx como reverse proxy y balanceador de carga. Hugo para documentar todo el proceso. El objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\nAqu√≠ aprender√°s:\nC√≥mo instalar Waitress en un entorno Python. C√≥mo configurarlo para servir tu API Flask. C√≥mo crear una infraestructura con varios contenedores corriendo instancias id√©nticas. C√≥mo exponer todo esto a internet a trav√©s de Nginx con balanceo de carga. Al final tendr√°s una arquitectura estable, escalable y f√°cil de replicar.\n","permalink":"//localhost:1313/inicio/","summary":"\u003cp\u003eBienvenido a la documentaci√≥n del proyecto \u003cstrong\u003eTicTacToe API\u003c/strong\u003e, un sistema que combina:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask + Waitress\u003c/strong\u003e como servidor backend.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker + Docker Compose\u003c/strong\u003e para encapsular la aplicaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar todo el proceso.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEl objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\u003c/p\u003e\n\u003cp\u003eAqu√≠ aprender√°s:\u003c/p\u003e","title":"Introducci√≥n"},{"content":"En esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\n1. Ejecutar la aplicaci√≥n con par√°metros waitress-serve \\ --listen=0.0.0.0:8000 \\ --threads=8 \\ --asyncore-use-poll \\ main:app 2. Par√°metros recomendados Par√°metro Descripci√≥n --threads N√∫mero de threads por worker. 4‚Äì8 suele ser suficiente. --listen Direcci√≥n IP y puerto donde escuchar. --asyncore-use-poll Mayor compatibilidad en contenedores. 3. Uso desde Docker CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] Waitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\n4. Logs Para ver logs en un contenedor:\ndocker logs api1 Esto te permite verificar la actividad y detectar errores.\n","permalink":"//localhost:1313/configuracion/","summary":"\u003cp\u003eEn esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\u003c/p\u003e\n\u003ch2 id=\"1-ejecutar-la-aplicaci√≥n-con-par√°metros\"\u003e1. Ejecutar la aplicaci√≥n con par√°metros\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --threads\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e8\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --asyncore-use-poll \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"2-par√°metros-recomendados\"\u003e2. Par√°metros recomendados\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003ePar√°metro\u003c/th\u003e\n          \u003cth\u003eDescripci√≥n\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--threads\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eN√∫mero de threads por worker. 4‚Äì8 suele ser suficiente.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--listen\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eDirecci√≥n IP y puerto donde escuchar.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--asyncore-use-poll\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eMayor compatibilidad en contenedores.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id=\"3-uso-desde-docker\"\u003e3. Uso desde Docker\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-dockerfile\" data-lang=\"dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;waitress-serve\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--listen=0.0.0.0:8000\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;main:app\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eWaitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\u003c/p\u003e","title":"Configuraci√≥n de Waitress"},{"content":"En esta secci√≥n ver√°s el despliegue completo en producci√≥n utilizando:\nFlask + Waitress (backend WSGI) Dockerfile (para build de la API) Docker Compose (para levantar varias instancias) Nginx como reverse proxy y balanceador de carga M√∫ltiples contenedores ejecutando la misma API Hugo para documentar el proyecto Esta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\n1. Estructura del proyecto Tu proyecto est√° organizado as√≠:\nSERVIDOR-WAITRESS/\r‚îú‚îÄ api/\r‚îÇ ‚îú‚îÄ Dockerfile\r‚îÇ ‚îú‚îÄ main.py\r‚îÇ ‚îú‚îÄ pyproject.toml\r‚îÇ ‚îî‚îÄ uv.lock\r‚îú‚îÄ docs/ ‚Üê sitio Hugo para documentaci√≥n\r‚îú‚îÄ nginx/\r‚îÇ ‚îî‚îÄ nginx.conf\r‚îî‚îÄ docker-compose.yml 2. Dockerfile de la API El Dockerfile se encarga de:\nInstalar dependencias Copiar el c√≥digo Lanzar Waitress en el puerto 8000 FROM python:3.12-slim ENV PYTHONDONTWRITEBYTECODE=1 ENV PYTHONUNBUFFERED=1 WORKDIR /app COPY pyproject.toml ./ RUN pip install --upgrade pip setuptools wheel \u0026amp;\u0026amp; pip install waitress \u0026amp;\u0026amp; pip install -e . COPY . . EXPOSE 8000 CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] üß± 3. docker-compose.yml con m√∫ltiples instancias Aqu√≠ levantas dos contenedores id√©nticos tictactoe1 y tictactoe2, ambos corriendo la API por Waitress.\nLuego Nginx se encarga del balanceo.\nversion: \u0026#34;3.8\u0026#34; services: tictactoe1: build: ./api container_name: tictactoe1 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; tictactoe2: build: ./api container_name: tictactoe2 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; nginx: image: nginx:latest container_name: nginx_tictactoe restart: always volumes: - ./nginx/nginx.conf:/etc/nginx/nginx.conf ports: - \u0026#34;9000:80\u0026#34; depends_on: - tictactoe1 - tictactoe2 networks: - tictactoe-net networks: tictactoe-net: driver: bridge üåê 4. Configuraci√≥n de Nginx (nginx.conf) Nginx act√∫a como:\nReverse Proxy Balanceador de carga Punto de entrada externo (puerto 9000) worker_processes 1; events { worker_connections 1024; } http { upstream tictactoe_upstream { ip_hash; server tictactoe1:8000; server tictactoe2:8000; } server { listen 80; location / { proxy_pass http://tictactoe_upstream; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } ip_hash asegura que cada cliente siempre vaya al mismo backend (ideal para sesiones persistentes).\nüî• 5. Levantar todo el sistema Desde la carpeta ra√≠z del proyecto:\ndocker-compose build docker-compose up -d Comprobar contenedores:\ndocker ps Todos deben aparecer como Up.\nüì° 6. Probar la API desde el navegador o curl Registrar un device:\ncurl -X POST http://localhost:9000/devices Ver dispositivos:\ncurl http://localhost:9000/devices Nginx distribuir√° las peticiones entre tictactoe1 y tictactoe2.\nüß™ 7. Confirmar balanceo de carga Ver logs:\ndocker logs tictactoe1 docker logs tictactoe2 Ambos deben recibir tr√°fico.\nüéØ 8. Resultado final Con esta arquitectura tienes:\nAPI escalable Servida con Waitress Balanceada por Nginx Reproducible con Docker Compose Dos (o m√°s) contenedores backend Documentaci√≥n en Hugo Un entorno profesional, limpio, replicable y apto para producci√≥n.\n¬°Despliegue completado! üöÄüî•\n","permalink":"//localhost:1313/despliegue/","summary":"\u003cp\u003eEn esta secci√≥n ver√°s el \u003cstrong\u003edespliegue completo en producci√≥n\u003c/strong\u003e utilizando:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask\u003c/strong\u003e + \u003cstrong\u003eWaitress\u003c/strong\u003e (backend WSGI)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDockerfile\u003c/strong\u003e (para build de la API)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker Compose\u003c/strong\u003e (para levantar varias instancias)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eM√∫ltiples contenedores\u003c/strong\u003e ejecutando la misma API\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar el proyecto\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEsta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"1-estructura-del-proyecto\"\u003e1. Estructura del proyecto\u003c/h1\u003e\n\u003cp\u003eTu proyecto est√° organizado as√≠:\u003c/p\u003e","title":"Despliegue Final con Nginx y Waitress (M√∫ltiples Contenedores)"},{"content":"En esta secci√≥n aprender√°s a instalar Waitress, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\n1. Requisitos previos Aseg√∫rate de tener instalado:\nPython 3.10 o superior pip actualizado Un entorno virtual (opcional pero recomendado) 2. Crear el entorno virtual python -m venv venv source venv/bin/activate # Linux/macOS venv\\Scripts\\activate # Windows 3. Instalar Flask y Waitress pip install flask waitress 4. Archivo b√°sico de ejemplo from flask import Flask app = Flask(__name__) @app.get(\u0026#34;/\u0026#34;) def home(): return \u0026#34;Waitress funcionando correctamente.\u0026#34; 5. Ejecutar la app con Waitress waitress-serve --listen=0.0.0.0:8000 main:app Ahora el backend est√° listo para producci√≥n a trav√©s de Waitress.\n","permalink":"//localhost:1313/instalacion/","summary":"\u003cp\u003eEn esta secci√≥n aprender√°s a instalar \u003cstrong\u003eWaitress\u003c/strong\u003e, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\u003c/p\u003e\n\u003ch2 id=\"1-requisitos-previos\"\u003e1. Requisitos previos\u003c/h2\u003e\n\u003cp\u003eAseg√∫rate de tener instalado:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePython 3.10 o superior\u003c/li\u003e\n\u003cli\u003epip actualizado\u003c/li\u003e\n\u003cli\u003eUn entorno virtual (opcional pero recomendado)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-crear-el-entorno-virtual\"\u003e2. Crear el entorno virtual\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython -m venv venv\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource venv/bin/activate      \u003cspan style=\"color:#75715e\"\u003e# Linux/macOS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evenv\u003cspan style=\"color:#ae81ff\"\u003e\\S\u003c/span\u003ecripts\u003cspan style=\"color:#ae81ff\"\u003e\\a\u003c/span\u003ectivate         \u003cspan style=\"color:#75715e\"\u003e# Windows\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"3-instalar-flask-y-waitress\"\u003e3. Instalar Flask y Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epip install flask waitress\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"4-archivo-b√°sico-de-ejemplo\"\u003e4. Archivo b√°sico de ejemplo\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@app.get\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehome\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Waitress funcionando correctamente.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"5-ejecutar-la-app-con-waitress\"\u003e5. Ejecutar la app con Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAhora el backend est√° listo para producci√≥n a trav√©s de Waitress.\u003c/p\u003e","title":"Instalaci√≥n B√°sica de Waitress"},{"content":"Bienvenido a la documentaci√≥n del proyecto TicTacToe API, un sistema que combina:\nFlask + Waitress como servidor backend. Docker + Docker Compose para encapsular la aplicaci√≥n. Nginx como reverse proxy y balanceador de carga. Hugo para documentar todo el proceso. El objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\nAqu√≠ aprender√°s:\nC√≥mo instalar Waitress en un entorno Python. C√≥mo configurarlo para servir tu API Flask. C√≥mo crear una infraestructura con varios contenedores corriendo instancias id√©nticas. C√≥mo exponer todo esto a internet a trav√©s de Nginx con balanceo de carga. Al final tendr√°s una arquitectura estable, escalable y f√°cil de replicar.\n","permalink":"//localhost:1313/inicio/","summary":"\u003cp\u003eBienvenido a la documentaci√≥n del proyecto \u003cstrong\u003eTicTacToe API\u003c/strong\u003e, un sistema que combina:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask + Waitress\u003c/strong\u003e como servidor backend.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker + Docker Compose\u003c/strong\u003e para encapsular la aplicaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar todo el proceso.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEl objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\u003c/p\u003e\n\u003cp\u003eAqu√≠ aprender√°s:\u003c/p\u003e","title":"Introducci√≥n"},{"content":"En esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\n1. Ejecutar la aplicaci√≥n con par√°metros waitress-serve \\ --listen=0.0.0.0:8000 \\ --threads=8 \\ --asyncore-use-poll \\ main:app 2. Par√°metros recomendados Par√°metro Descripci√≥n --threads N√∫mero de threads por worker. 4‚Äì8 suele ser suficiente. --listen Direcci√≥n IP y puerto donde escuchar. --asyncore-use-poll Mayor compatibilidad en contenedores. 3. Uso desde Docker CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] Waitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\n4. Logs Para ver logs en un contenedor:\ndocker logs api1 Esto te permite verificar la actividad y detectar errores.\n","permalink":"//localhost:1313/configuracion/","summary":"\u003cp\u003eEn esta secci√≥n veremos c√≥mo ajustar Waitress para mejorar rendimiento y estabilidad en producci√≥n.\u003c/p\u003e\n\u003ch2 id=\"1-ejecutar-la-aplicaci√≥n-con-par√°metros\"\u003e1. Ejecutar la aplicaci√≥n con par√°metros\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --threads\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e8\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --asyncore-use-poll \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"2-par√°metros-recomendados\"\u003e2. Par√°metros recomendados\u003c/h2\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003ePar√°metro\u003c/th\u003e\n          \u003cth\u003eDescripci√≥n\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--threads\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eN√∫mero de threads por worker. 4‚Äì8 suele ser suficiente.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--listen\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eDirecci√≥n IP y puerto donde escuchar.\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e--asyncore-use-poll\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003eMayor compatibilidad en contenedores.\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id=\"3-uso-desde-docker\"\u003e3. Uso desde Docker\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-dockerfile\" data-lang=\"dockerfile\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eCMD\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;waitress-serve\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;--listen=0.0.0.0:8000\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;main:app\u0026#34;\u003c/span\u003e]\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eWaitress funciona perfectamente dentro de contenedores debido a su simplicidad y estabilidad.\u003c/p\u003e","title":"Configuraci√≥n de Waitress"},{"content":"En esta secci√≥n ver√°s el despliegue completo en producci√≥n utilizando:\nFlask + Waitress (backend WSGI) Dockerfile (para build de la API) Docker Compose (para levantar varias instancias) Nginx como reverse proxy y balanceador de carga M√∫ltiples contenedores ejecutando la misma API Hugo para documentar el proyecto Esta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\n1. Estructura del proyecto Tu proyecto est√° organizado as√≠:\nSERVIDOR-WAITRESS/\r‚îú‚îÄ api/\r‚îÇ ‚îú‚îÄ Dockerfile\r‚îÇ ‚îú‚îÄ main.py\r‚îÇ ‚îú‚îÄ pyproject.toml\r‚îÇ ‚îî‚îÄ uv.lock\r‚îú‚îÄ docs/ ‚Üê sitio Hugo para documentaci√≥n\r‚îú‚îÄ nginx/\r‚îÇ ‚îî‚îÄ nginx.conf\r‚îî‚îÄ docker-compose.yml 2. Dockerfile de la API El Dockerfile se encarga de:\nInstalar dependencias Copiar el c√≥digo Lanzar Waitress en el puerto 8000 FROM python:3.12-slim ENV PYTHONDONTWRITEBYTECODE=1 ENV PYTHONUNBUFFERED=1 WORKDIR /app COPY pyproject.toml ./ RUN pip install --upgrade pip setuptools wheel \u0026amp;\u0026amp; pip install waitress \u0026amp;\u0026amp; pip install -e . COPY . . EXPOSE 8000 CMD [\u0026#34;waitress-serve\u0026#34;, \u0026#34;--listen=0.0.0.0:8000\u0026#34;, \u0026#34;main:app\u0026#34;] 3. docker-compose.yml con m√∫ltiples instancias Aqu√≠ levantas dos contenedores id√©nticos tictactoe1 y tictactoe2, ambos corriendo la API por Waitress.\nLuego Nginx se encarga del balanceo.\nversion: \u0026#34;3.8\u0026#34; services: tictactoe1: build: ./api container_name: tictactoe1 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; tictactoe2: build: ./api container_name: tictactoe2 restart: always networks: - tictactoe-net expose: - \u0026#34;8000\u0026#34; nginx: image: nginx:latest container_name: nginx_tictactoe restart: always volumes: - ./nginx/nginx.conf:/etc/nginx/nginx.conf ports: - \u0026#34;9000:80\u0026#34; depends_on: - tictactoe1 - tictactoe2 networks: - tictactoe-net networks: tictactoe-net: driver: bridge üåê 4. Configuraci√≥n de Nginx (nginx.conf) Nginx act√∫a como:\nReverse Proxy Balanceador de carga Punto de entrada externo (puerto 9000) worker_processes 1; events { worker_connections 1024; } http { upstream tictactoe_upstream { ip_hash; server tictactoe1:8000; server tictactoe2:8000; } server { listen 80; location / { proxy_pass http://tictactoe_upstream; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } ip_hash asegura que cada cliente siempre vaya al mismo backend (ideal para sesiones persistentes).\nüî• 5. Levantar todo el sistema Desde la carpeta ra√≠z del proyecto:\ndocker-compose build docker-compose up -d Comprobar contenedores:\ndocker ps Todos deben aparecer como Up.\nüì° 6. Probar la API desde el navegador o curl Registrar un device:\ncurl -X POST http://localhost:9000/devices Ver dispositivos:\ncurl http://localhost:9000/devices Nginx distribuir√° las peticiones entre tictactoe1 y tictactoe2.\nüß™ 7. Confirmar balanceo de carga Ver logs:\ndocker logs tictactoe1 docker logs tictactoe2 Ambos deben recibir tr√°fico.\nüéØ 8. Resultado final Con esta arquitectura tienes:\nAPI escalable Servida con Waitress Balanceada por Nginx Reproducible con Docker Compose Dos (o m√°s) contenedores backend Documentaci√≥n en Hugo Un entorno profesional, limpio, replicable y apto para producci√≥n.\n¬°Despliegue completado! üöÄüî•\n","permalink":"//localhost:1313/despliegue/","summary":"\u003cp\u003eEn esta secci√≥n ver√°s el \u003cstrong\u003edespliegue completo en producci√≥n\u003c/strong\u003e utilizando:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask\u003c/strong\u003e + \u003cstrong\u003eWaitress\u003c/strong\u003e (backend WSGI)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDockerfile\u003c/strong\u003e (para build de la API)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker Compose\u003c/strong\u003e (para levantar varias instancias)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eM√∫ltiples contenedores\u003c/strong\u003e ejecutando la misma API\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar el proyecto\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEsta arquitectura permite que la API sea accedida desde m√∫ltiples dispositivos de forma estable y escalable.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"1-estructura-del-proyecto\"\u003e1. Estructura del proyecto\u003c/h1\u003e\n\u003cp\u003eTu proyecto est√° organizado as√≠:\u003c/p\u003e","title":"Despliegue Final con Nginx y Waitress (M√∫ltiples Contenedores)"},{"content":"En esta secci√≥n aprender√°s a instalar Waitress, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\n1. Requisitos previos Aseg√∫rate de tener instalado:\nPython 3.10 o superior pip actualizado Un entorno virtual (opcional pero recomendado) 2. Crear el entorno virtual python -m venv venv source venv/bin/activate # Linux/macOS venv\\Scripts\\activate # Windows 3. Instalar Flask y Waitress pip install flask waitress 4. Archivo b√°sico de ejemplo from flask import Flask app = Flask(__name__) @app.get(\u0026#34;/\u0026#34;) def home(): return \u0026#34;Waitress funcionando correctamente.\u0026#34; 5. Ejecutar la app con Waitress waitress-serve --listen=0.0.0.0:8000 main:app Ahora el backend est√° listo para producci√≥n a trav√©s de Waitress.\n","permalink":"//localhost:1313/instalacion/","summary":"\u003cp\u003eEn esta secci√≥n aprender√°s a instalar \u003cstrong\u003eWaitress\u003c/strong\u003e, un servidor WSGI de producci√≥n para aplicaciones Python como Flask.\u003c/p\u003e\n\u003ch2 id=\"1-requisitos-previos\"\u003e1. Requisitos previos\u003c/h2\u003e\n\u003cp\u003eAseg√∫rate de tener instalado:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePython 3.10 o superior\u003c/li\u003e\n\u003cli\u003epip actualizado\u003c/li\u003e\n\u003cli\u003eUn entorno virtual (opcional pero recomendado)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-crear-el-entorno-virtual\"\u003e2. Crear el entorno virtual\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython -m venv venv\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource venv/bin/activate      \u003cspan style=\"color:#75715e\"\u003e# Linux/macOS\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003evenv\u003cspan style=\"color:#ae81ff\"\u003e\\S\u003c/span\u003ecripts\u003cspan style=\"color:#ae81ff\"\u003e\\a\u003c/span\u003ectivate         \u003cspan style=\"color:#75715e\"\u003e# Windows\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"3-instalar-flask-y-waitress\"\u003e3. Instalar Flask y Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epip install flask waitress\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"4-archivo-b√°sico-de-ejemplo\"\u003e4. Archivo b√°sico de ejemplo\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e flask \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Flask\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapp \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e Flask(__name__)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003e@app.get\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehome\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Waitress funcionando correctamente.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"5-ejecutar-la-app-con-waitress\"\u003e5. Ejecutar la app con Waitress\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewaitress-serve --listen\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e0.0.0.0:8000 main:app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAhora el backend est√° listo para producci√≥n a trav√©s de Waitress.\u003c/p\u003e","title":"Instalaci√≥n B√°sica de Waitress"},{"content":"Bienvenido a la documentaci√≥n del proyecto TicTacToe API, un sistema que combina:\nFlask + Waitress como servidor backend. Docker + Docker Compose para encapsular la aplicaci√≥n. Nginx como reverse proxy y balanceador de carga. Hugo para documentar todo el proceso. El objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\nAqu√≠ aprender√°s:\nC√≥mo instalar Waitress en un entorno Python. C√≥mo configurarlo para servir tu API Flask. C√≥mo crear una infraestructura con varios contenedores corriendo instancias id√©nticas. C√≥mo exponer todo esto a internet a trav√©s de Nginx con balanceo de carga. Al final tendr√°s una arquitectura estable, escalable y f√°cil de replicar.\n","permalink":"//localhost:1313/inicio/","summary":"\u003cp\u003eBienvenido a la documentaci√≥n del proyecto \u003cstrong\u003eTicTacToe API\u003c/strong\u003e, un sistema que combina:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFlask + Waitress\u003c/strong\u003e como servidor backend.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDocker + Docker Compose\u003c/strong\u003e para encapsular la aplicaci√≥n.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNginx\u003c/strong\u003e como reverse proxy y balanceador de carga.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eHugo\u003c/strong\u003e para documentar todo el proceso.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEl objetivo de este proyecto es ejecutar una API de forma escalable desde m√∫ltiples dispositivos, aprovechando la potencia de Docker y la estabilidad de Waitress como servidor WSGI.\u003c/p\u003e\n\u003cp\u003eAqu√≠ aprender√°s:\u003c/p\u003e","title":"Introducci√≥n"}]